/**
 * @author Dan Bettles <dan@powder-blue.com>
 * @copyright Powder Blue Ltd 2014
 */

(function(jQuery){function ToggleButton(oButtonEl,oOptions){this.setEl(oButtonEl);this.setOptions(oOptions);}
ToggleButton.CLASS_NAME_ON='toggle_button__on';ToggleButton.prototype={setEl:function(oEl){this.oEl=oEl;},getEl:function(){return this.oEl;},setOptions:function(oOptions){this.oOptions=oOptions;},getOptions:function(){return this.oOptions;},on:function(){this.getEl().addClass(ToggleButton.CLASS_NAME_ON);this.callUserEventHandler('on');},off:function(){this.getEl().removeClass(ToggleButton.CLASS_NAME_ON);this.callUserEventHandler('off');},isOn:function(){return this.getEl().is('.'+ToggleButton.CLASS_NAME_ON);},toggle:function(){if(this.isOn()){this.off();}else{this.on();}},callUserEventHandler:function(eventName){if(typeof this.getOptions()[eventName]==='function'){this.getOptions()[eventName].call(this);return true;}
return false;}};jQuery.fn.extend({toggleButton:function(oOptions){return this.each(function(){var oButtonEl=jQuery(this);oButtonEl.data('toggleButton',new ToggleButton(oButtonEl,oOptions)).click(function(){jQuery(this).data('toggleButton').toggle();return false;});});}});}(jQuery));