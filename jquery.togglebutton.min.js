/**
 * @author Dan Bettles <dan@powder-blue.com>
 * @copyright Powder Blue Ltd 2014
 */

(function(jQuery){function ToggleButton(oButtonEl,oOptions){this.setEl(oButtonEl);this.setOptions(oOptions);}
ToggleButton.CLASS_NAME_ON='toggle_button__on';ToggleButton.prototype={setEl:function(oEl){this.oEl=oEl;},getEl:function(){return this.oEl;},setOptions:function(oOptions){this.oOptions=oOptions;},getOptions:function(){return this.oOptions;},on:function(oEvent){this.getEl().addClass(ToggleButton.CLASS_NAME_ON);this.callUserEventHandler('on',[oEvent]);this.callUserEventHandler('both',[oEvent]);},off:function(oEvent){this.getEl().removeClass(ToggleButton.CLASS_NAME_ON);this.callUserEventHandler('off',[oEvent]);this.callUserEventHandler('both',[oEvent]);},isOn:function(){return this.getEl().is('.'+ToggleButton.CLASS_NAME_ON);},toggle:function(oEvent){if(this.isOn()){this.off(oEvent);}else{this.on(oEvent);}},callUserEventHandler:function(eventName,aArgument){if(typeof this.getOptions()[eventName]==='function'){this.getOptions()[eventName].apply(this,aArgument);return true;}
return false;}};jQuery.fn.extend({toggleButton:function(oOptions){return this.each(function(){var oButtonEl=jQuery(this);oButtonEl.data('toggleButton',new ToggleButton(oButtonEl,oOptions)).click(function(oEvent){jQuery(this).data('toggleButton').toggle(oEvent);return false;});});}});}(jQuery));